<p>Hi all,</p><p>Today a XSS vulnerability in the certificate manager is being fixed that is based on a crafted certificate being imported into the system. PHP was finally updated from 7.0 to 7.1 which should make things a bit faster.  Last but not least, the HAProxy plugin by Frank Wall receives a major update for improved usability, several new features and two bug fixes.</p><p>Here are the full patch notes:</p><p><ul><li>system: fix XSS with crafted certificates in certificate manager[<a target="_blank" href="https://github.com/opnsense/core/issues/1964">1</a>]</li><li>system: removed duplicated firmware privileges</li><li>system: fix resolving routes in diagnostics page</li><li>system: regenerated DH parameters</li><li>dhcp: support stateless DHCPv6</li><li>firmware: kernel and base set visibility and better API session handling</li><li>intrusion detection: improve download and install speed of et-open rules</li><li>intrusion detection: add TLS and HTTP logging in eve and alert log viewer</li><li>openvpn: allow remote network in peer to peer modes</li><li>web proxy: better service and API session handling</li><li>router advertisements: advertise on VIPs belonging to the same interface</li><li>configd: allow template overrides via optional target directory</li><li>mvc: prepare for user-based language setting (contributed by Alexander Shursha)</li><li>mvc: prepare for auto-generated page titles</li><li>mvc: tighten against frame-based attacks</li><li>mvc: correctly hide advanced option headers in forms (contributed by Evgeny Bevz)</li><li>ui: fix for deactivated storage in sticky "help all" toggle (contributed by Fabian Franz)</li><li>ui: make "advanced mode" sticky too</li><li>plugins: os-acme-client 1.12[<a target="_blank" href="https://github.com/opnsense/plugins/pull/336">2</a>] (contributed by Frank Wall)</li><li>plugins: os-arp-scan (contributed by Giuseppe De Marco)</li><li>plugins: os-clamav 1.3 (contributed by Alexander Shursha)</li><li>plugins: os-dyndns 1.4 adds Route53 IPv6 support (contributed by Kuo-Cheng Yeu)</li><li>plugins: os-freeradius 1.3.1 (contributed by Michael Muenz)</li><li>plugins: os-haproxy 2.0[<a target="_blank" href="https://github.com/opnsense/plugins/pull/330">3</a>] (contributed by Frank Wall)</li><li>plugins: os-relayd 1.2 fixes "check send" directive</li><li>plugins: os-tor 1.3 (contributed by Fabian Franz)</li><li>plugins: os-zabbix-agent 1.2 fixes service status indicator</li><li>plugins: os-zabbix-proxy 1.0 (contributed by Michael Muenz)</li><li>ports: ca_root_nss 3.34.1</li><li>ports: curl 7.57.0[<a target="_blank" href="https://curl.haxx.se/changes.html">4</a>]</li><li>ports: lighttpd 1.4.48[<a target="_blank" href="https://www.lighttpd.net/2017/11/11/1.4.48/">5</a>]</li><li>ports: php 7.1.12[<a target="_blank" href="https://php.net/ChangeLog-7.php#7.1.12">6</a>]</li><li>ports: pkg 1.10.3[<a target="_blank" href="https://github.com/freebsd/freebsd-ports/commit/c6da09c68">7</a>]</li><li>ports: py-Jinja2 2.10[<a target="_blank" href="http://jinja.pocoo.org/docs/2.10/changelog/#version-2-10">8</a>]</li><li>ports: syslogd 11.1</li></ul></p><p>A hotfix release was issued as 17.7.9_8:</p><p><ul><li>system: correctly populate logging settings after clearing all logs</li><li>firewall: fix 2 PHP 7.1 warnings</li><li>ipsec: fix 2 PHP 7.1 warnings and one runtime error</li><li>interfaces: fix a PHP 7.1 warning</li><li>intrusion detection: add protocol display to alert dialog</li><li>plugins: os-haproxy 2.1 fixes HSTS usage[<a target="_blank" href="https://github.com/opnsense/plugins/pull/419">9</a>] (contributed by Frank Wall)</li></ul></p><p>Another hotfix release was issued as 17.7.9_9:</p><p><ul><li>system: fix a PHP 7.1 runtime error in certificate generation</li><li>plugins: os-haproxy 2.2 fixes rules parameters[<a target="_blank" href="https://github.com/opnsense/plugins/pull/420">10</a>] (contributed by Frank Wall)</li></ul></p><p><br>Stay safe,<br> Your OPNsense team</p>