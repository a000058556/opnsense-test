<p>Hey there,</p><p>This week we are introducing a number of reliability fixes especially with regard to our move to FreeBSD 11.0 and PHP 7.0; most prominently a NAT fix for the shared filter forwarding and repairing the CRL generation.  You will also find a few interesting IPsec additions.  ;)</p><p>In case the shared forwarding is still giving you trouble on 17.1.1, run the following command to use the old behaviour and report back to us:</p><p><pre>sysctl net.pf.share_forward=0</pre></p><p>Here are the full patch notes:</p><p><ul><li>system: LDAP picker CSRF error solved by introducing session-based security tokens</li><li>system: fixed CRL generation inside PHP OpenSSL module</li><li>system: fix a typo with Portuguese (Portugal) in language selector</li><li>system: do not interpret passed values in wizard</li><li>system: fix forum link in message of the day</li><li>firewall: direction "any" was not respected in floating rules</li><li>firewall: fix double encoding of NO NAT for NAT addresses (contributed by djGrrr)</li><li>firewall: improve validation between IPv4 and IPv6 to prevent faulty rule generation</li><li>firmware: opnsense-update utility now unlocks packages before performing major upgrades</li><li>firmware: opnsense-revert utility now retains the automatic flag</li><li>firmware: revoked the 16.7 update fingerprints</li><li>dhcp: change relay text to make it clear multiple servers are supported (contributed by GurliGebis)</li><li>ipsec: add EAP-RADIUS support (contributed by GurliGebis)</li><li>ipsec: set filtertunnel sysctl values to fix TCP teardown</li><li>ipsec: fix hidden interface rules tab</li><li>ipsec: add AES-GCM support</li><li>openvpn: fixed CRL generation inside PHP OpenSSL module</li><li>openvpn: do not escape advanced options on export</li><li>openvpn: fix hidden interface rules tab</li><li>mvc: multiple tab usage CSRF errors solved by introducing session-based security tokens</li><li>mvc: fix HTTP status codes on CSRF errors</li><li>mvc: soft-fail on missing classes in ModelRelationField (contributed by Frank Wall)</li><li>plugins: os-acme-client 1.1[<a target="_blank" href="https://github.com/opnsense/plugins/pull/71">1</a>] (contributed by Frank Wall)</li><li>plugins: os-haproxy 1.12[<a target="_blank" href="https://github.com/opnsense/plugins/pull/72">2</a>] (contributed by Frank Wall)</li><li>src: pf(4) shared forwarding fix during NAT</li><li>src: pf(4) sysctl switch to disable shared forwarding</li><li>src: fix a panic with stf(4) interfaces</li><li>src: unhide hard disks under Hyper-V</li><li>ports: pkg 1.9.4[<a target="_blank" href="https://github.com/freebsd/freebsd-ports/commit/9602cca88">3</a>][<a target="_blank" href="https://github.com/freebsd/freebsd-ports/commit/55c9964f3">4</a>]</li><li>ports: pcre 8.40[<a target="_blank" href="http://www.pcre.org/original/changelog.txt">5</a>]</li><li>ports: libressl 2.4.5[<a target="_blank" href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-2.4.5-relnotes.txt">6</a>]</li><li>ports: libevent 2.1.8[<a target="_blank" href="https://raw.githubusercontent.com/libevent/libevent/release-2.1.8-stable/ChangeLog">7</a>]</li><li>ports: squid 3.5.24[<a target="_blank" href="http://ftp.meisei-u.ac.jp/mirror/squid/squid-3.5.24-RELEASENOTES.html">8</a>]</li></ul></p><p><br>Stay safe,<br> Your OPNsense team</p>