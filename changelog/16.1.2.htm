<p>Hi guys,</p><p>It is time for a swift update for our dear Hyper-V users.  There is a packet forwarding regression in FreeBSD 10.2 that has not been added as errata yet so we had to pin it down with the help of three brave testers.  If you happen to want to run Hyper-V without going through the issue, install from an older 15.7 image and upgrade directly to avoid the bad version.</p><p>To improve upon Suricata 3.0 and the SSL fingerprint lists we are now enabling users to add user-defined rules for adding and enforcing their own fingerprints.  But wait, that is not all.  On top of that the IP geolocation feature was added as well while at it.  :)</p><p>Otherwise, only smaller bugs have been addressed to make 16.1 look even shinier.  The FreeBSD security advisory for OpenSSL got integrated too, but is not of much concern since we consistently use the ports version for our components.  The important fixes have been shipped with version 16.1.1 back on Monday.</p><p>Here are the full patch notes:</p><p><ul><li>src: OpenSSL SSLv2 ciphersuite downgrade vulnerability[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-SA-16:11.openssl.asc">1</a>]</li><li>src: Fix packet forwarding in Hyper-V netvsc driver[<a target="_blank" href="https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=203630">2</a>]</li><li>src: Honour disabled pf(4) log flag on dropped packets with IP options[<a target="_blank" href="https://reviews.freebsd.org/D3222">3</a>]</li><li>ports: curl 7.47.0[<a target="_blank" href="https://curl.haxx.se/changes.html">4</a>], nettle 3.2[<a target="_blank" href="https://fossies.org/diffs/nettle/3.1.1_vs_3.2/ChangeLog-diff.html">5</a>]</li><li>wizard: fix certificate generation for OpenVPN</li><li>firewall: fix interface selection on post issues in floating rules</li><li>firewall: make category filter multi-select for maximum convenience</li><li>firewall: do not hide gateways from the gateway selection</li><li>firewall: added null routes to the gateway selection</li><li>firewall: rather than hiding associated nat rules, remove their edit and clone buttons so they can still be deleted manually</li><li>dns resolver: fix $numprocs setting in config according to manual</li><li>dns resolver: do not render illegal output for empty IPv6 addresses</li><li>dhcp: applying static mappings with DNS resolver enabled no longer seems stuck in apply step</li><li>search: resize box on focus and also propagate proxy server tabs</li><li>system: fix inversion bug of the default pass logging setting</li><li>captive portal: properly log messages to associated log file</li><li>intrusion detection: can now add user rules based on SSL fingerprints and IP geolocation</li></ul></p><p><br>Stay safe,<br> Your OPNsense team</p>